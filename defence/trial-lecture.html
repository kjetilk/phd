<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <base href="http://dev.kjernsmo.net/reveal.js/"/>
    <!-- base href="http://0.0.0.0:8000/"/ -->
    <title>Query Processing in Distributed Databases</title>
    
    <meta name="description" content=""/>
    <meta name="author" content="Kjetil Kjernsmo"/>
    
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    
    <link rel="stylesheet" href="css/reveal.css"/>
    <link rel="stylesheet" href="css/theme/black.css" id="theme"/>
    
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css"/>

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    
    
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
       <style>
         blockquote { text-align: justify }
         blockquote footer { text-align: right }
       </style>
  </head>
  
  <body>
    
    <div class="reveal">
      
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
	<section>
	  <h1>Query Processing in Distributed Databases</h1>
	  <p>
	    Kjetil
            Kjernsmo, <a href="http://kjetil.kjernsmo.net/">http://kjetil.kjernsmo.net/</a>,
            <a href="https://twitter.com/KKjernsmo">@KKjernsmo</a>.
          </p>
          <p>
            Trial lecture for the Degree of <span lang="la">Philosophi√¶ Doctor</span>.
          </p>
        </section>

        <section>
          <h2>Overview</h2>


          <aside class="notes">

          </aside>
        </section>

        <section>
          <h2>Why distributed databases?</h2>
          
          <ul>
            <li></li>
          </ul>
          
          <aside class="notes">

          </aside>
        </section>


 
        <section>
          <h2>Distribution</h2>
          <img src="file:///home/kjetil/fag/phd/defence/distribution.svg" 
               alt="Centralisation vs distribution"/>
          
          <aside class="notes">
            <ul>
              <li>Distribution encompasses everything from where
                there are parallell, but outwards, nothing is visible,
                to P2P where no node has a privileged
                position and they are completely autonomous.</li>
            </ul>
          </aside>
          
        </section>
    
        <section>
          <section>
            <h2>Steps to execute queries</h2>
            
            <h3>Start with a query to answer.</h3>
            
            <blockquote>
              Give me all names, times, and positions of Gamma Ray Bursts with a
              duration of more than 1&nbsp;000 seconds and the type and
              name of their host galaxy.
            </blockquote>
            
<!--
PREFIX ex: <http://example.org/ex> .
SELECT ?name ?time ?ra ?decl WHERE {
  ?grb ex:name ?name ;
       ex:time ?time ;
       ex:duration ?duration ;
       ex:ra ?ra ;
       ex:decl ?decl ;
       ex:host ?host .
  ?host a ?type ;
        ex:name ?gname .
  FILTER (?duration > 1000)
}
  
      
GRB(id, name, time, duration, ra, decl, host)
Galaxy(id, name, type)



-->

            <aside class="notes">
              <ul>
                <li>You'd have to express that using a query
                language.</li>
                <li>Though there is research to help you translate
                natural language to query languages.</li>
              </ul>
            </aside>
          </section>
      
          <section>
            <h3>Parse the query to an algebra tree</h3>
            
            <div>
              <img src="file:///home/kjetil/fag/phd/defence/relalgtree1.svg" 
                   alt="Algebra Tree Take 1" height="500"/><!-- TODO:
                   SPARQL algebra -->
            </div>
            
          </section>
          <section>
            <h3>Equivalent queries may be found</h3>
            
            <div>
              <img src="file:///home/kjetil/fag/phd/defence/relalgtree2.svg" 
                   alt="Algebra Tree Take 2" height="500"/>
            </div>

          <aside class="notes">
            <ul>
              <li>Usually a good idea, since less data might be
              joined.</li>
              <li>More generally, we may involve a cost model
              already</li>
              <li>However, it is usually done in the next step, since
              doing too much may slow the overall performance.</li>
            </ul>
          </aside>

          </section>
          
          <section>
            <h3>Transform to physical query plan</h3>
            
            <ul>
              <li>For every node or branch in the algebra tree, create a plan
                object for every way the data can be accessed or
                operations executed.</li>
              <li>Then, estimate the cost of running each part of the plan.</li>
            </ul>

            <aside class="notes">
              <ul>
                <li>And that's where it gets interesting, </li>
                <li>Why? In the previous example, there are very few
                GRBs, but many galaxies. This affects  the choice
                of the join algorithm to use and how to use it. Like,
                  one side of the tree might have to go into RAM.</li>
                
                <li>Then, combinatorial explosion, doing every plan
                  will take a long time. Various strategies
                  developed.</li>
                <li>TODO: Dynamic programming, etc</li>
            </aside>
          </section>

        </section>


        <section>
          <h2>Concerns Introduced By Distribution</h2>

          <p>

          <aside class="notes">
            <ul>
              <li>Same overall process, but data can be fetched and
                computation can be made across many computers.</li>
            </ul>
          </aside>

         <section>
           <div class="fragment">
             <h3>Query load</h3>
             
             <p>Still seek to minimize:</p>
             <ul>
               <li>Total query time</li>
             </ul>
           </div>
           <div class="fragment">
             <p>but how about</p>
             <ul>
               <li class="fragment">Network transfer</li>
               <li class="fragment">Number of peers</li>               
               <li class="fragment">Load on peers</li>
             </ul>
           </div>

            <aside class="notes">
              
            </aside>
          </section>

          <section>
            <h3>Fragmentation and fragment allocation</h3>
            
            
            <aside class="notes">
              
            </aside>
          </section>

 

          <section>
            <h3>TODO</h3>
            Additive operators

            <aside class="notes">
              
            </aside>
          </section>
          
        </section>


        <section>
          <h3>Parallell execution</h3>


          <aside class="notes">

          </aside>

          <section>
            <h3>MapReduce</h3>
            
            
            <aside class="notes">
              
            </aside>
          </section>

          <section>
            <h3>Signal/Collect</h3>

            
            <aside class="notes">
              
            </aside>
          </section>

          <section>
            <h3>Hadoop</h3>
            
            
            <aside class="notes">
              
            </aside>
          </section>

        </section>

<!--
        <section>
          <h3></h3>
          
          
          <aside class="notes">

          </aside>
        </section>
-->

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    
    <script>
      
      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      
      transition: 'slide', // none/fade/slide/convex/concave/zoom
      
      // Optional reveal.js plugins
      dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
      ]
      });
      
    </script>
    
    <script>//<![CDATA[
    document.write('<script src="//' + (location.hostname || 'localhost') + ':35729/livereload.js?snipver=1"><\/script>')
    //]]></script>

  </body>
</html>
